# cpp_chatroom
A socket-based chat app

## 每个文件的作用：

* Common.h：公共头文件，包含所需的所有宏定义及socket网络编程头文件
* Client.h， Client.cpp：客户端类实现。
* Server.h，Server.cpp：服务端类实现。
* ClientMain.cpp，ServerMain.cpp：客户端及服务端的主函数。

## 设计需要的类：
### 其中客户端类我们需要支持下面几个功能：

* 连接服务器
* 支持用户输入聊天消息，发送消息给服务器
* 接收并显示服务器的消息
* 退出连接
* 针对上述需求，客户端的实现需要两个进程分别支持下面的功能：

#### 子进程的功能：

* 等待用户输入聊天信息
* 将聊天信息写到管道（pipe），并发送给父进程

#### 父进程的功能：

* 使用epoll机制接受服务端发来的信息，并显示给用户，使用户看到其他用户的聊天信息
* 将子进程发给的聊天信息从管道（pipe）中读取, 并发送给服务端

#### 服务端类需要支持：

* 支持多个客户端接入，实现聊天室基本功能
* 启动服务建立监听端口等待客户端连接
* 使用epoll机制实现并发，增加效率
* 客户端连接时发送欢迎消息并存储连接记录
* 客户端发送消息时广播给其他所有客户端
* 客户端请求退出时对连接信息进行清理